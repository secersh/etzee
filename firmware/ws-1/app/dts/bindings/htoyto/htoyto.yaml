description: >
  etzee htoyto-zmk is a UART-based inter-module communication protocol
  designed for daisy-chained split keyboards. It uses rising edge interrupt
  to initiate a handshake between connected modules.

compatible: "etzee,htoyto-zmk"

include: base.yaml

properties:
  uart:
    type: phandle
    required: true
    description: UART device used for htoyto communication

  dr-gpios:
    type: phandle-array
    required: false
    description: >
      GPIO pin used for rising edge interrupt (dR line).
      Required only for origin and bridge roles.
      Although only one pin is used, Zephyr requires 'gpios' to be plural
      because the property value is a structured array of controller, pin, and flags.

  role:
    type: string
    required: true
    enum:
      - origin
      - bridge
      - terminal
    description: >
      Role of the htoyto node:
        - origin: initiates communication (left-facing connection)
        - bridge: forwards from left to right (middle node)
        - terminal: receives commands (right-facing connection)

  label:
    type: string
    required: false
    description: Logical label for identifying this htoyto device

  node-id:
    type: string
    required: true
    description: >
      A unique identifier for the node in the htoyto network.
      Used to route or trigger logic based on physical orientation or connection topology.
