name: ğŸ‰ Materialize

on:
  create:
    tags:
      - 'v*'

jobs:
  mechanical-output:
    name: ğŸ”§ Mechanical Output
    runs-on: ubuntu-latest
    strategy:
      matrix:
        profile:
          - Low
          - Normal
        columns:
          - 5
          - 6
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ”§ Mechanical output job started for ${{ matrix.profile }} and ${{ matrix.columns }}."

  electronics-output:
    name: ğŸ§ª Electronics Output
    runs-on: ubuntu-latest
    strategy:
      matrix:
        profile:
          - Low
          - Normal
        columns:
          - 5
          - 6
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ§ª Electronics output job started for ${{ matrix.profile }} and ${{ matrix.columns }}."

      - name: upload-artifact
        uses: actions/upload-artifact@v4
        with:
          name: electronics-output
          path: "blah"

  firmware-output:
    name: ğŸ–¥ï¸ Firmware Output
    runs-on: ubuntu-latest
    strategy:
      matrix:
        profile:
          - Low
          - Normal
        columns:
          - 5
          - 6
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ–¥ï¸ Firmware output job started for ${{ matrix.profile }} and ${{ matrix.columns }}."

      - name: upload-artifact
        uses: actions/upload-artifact@v4
        with:
          name: firmware-output
          path: "blah"

  manufacturing-assembly-output:
    name: ğŸ­ Manufacturing Assembly Output
    runs-on: ubuntu-latest
    strategy:
      matrix:
        profile:
          - Low
          - Normal
        columns:
          - 5
          - 6
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ­ Manufacturing assembly output job started for ${{ matrix.profile }} and ${{ matrix.columns }}."

      - name: upload-artifact
        uses: actions/upload-artifact@v4
        with:
          name: manufacturing-assembly-output
          path: "blah"

  visual-and-branding-output:
    name: ğŸ¨ Visual and Branding Output
    runs-on: ubuntu-latest
    strategy:
      matrix:
        profile:
          - Low
          - Normal
        columns:
          - 5
          - 6
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ¨ Visual and branding output job started for ${{ matrix.profile }} and ${{ matrix.columns }}."

      - name: upload-artifact
        uses: actions/upload-artifact@v4
        with:
          name: visual-branding-output
          path: "blah"

  documentation-output:
    name: ğŸ“š Documentation Output
    runs-on: ubuntu-latest
    strategy:
      matrix:
        profile:
          - Low
          - Normal
        columns:
          - 5
          - 6
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ“š Documentation output job started for ${{ matrix.profile }} and ${{ matrix.columns }}."

      - name: upload-artifact
        uses: actions/upload-artifact@v4
        with:
          name: documentation-output
          path: "blah"

  administrative-output:
    name: ğŸ—‚ï¸ Administrative Output
    runs-on: ubuntu-latest
    strategy:
      matrix:
        profile:
          - Low
          - Normal
        columns:
          - 5
          - 6
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ—‚ï¸ Administrative output job started for ${{ matrix.profile }} and ${{ matrix.columns }}."

      - name: upload-artifact
        uses: actions/upload-artifact@v4
        with:
          name: administrative-output
          path: "blah"

  materialize-output:
    needs:
      - mechanical-output
      - electronics-output
      - firmware-output
      - manufacturing-assembly-output
      - visual-branding-output
      - documentation-output
      - administrative-output
    name: ğŸ“¦ Materialize Output
    runs-on: ubuntu-latest
    steps:
      - name: start-info
        run: |
          echo "::notice:: ğŸ“¦ Materialize output job started for version ${{ github.ref }}."

      - name: download-artifacts
        uses: actions/download-artifact@v4
          
      - name: crate-release
        run: |
          gh release create ${{ github.ref }} \
          --title "Release ${{ github.ref }}" \
          --notes "Release notes for version ${{ github.ref }}"

      - name: add-release-assets
        run: |
          gh release upload ${{ github.ref }} \
          "path/to/mechanical_output.zip" \
          "path/to/electronics_output.zip" \
          "path/to/firmware_output.zip" \
          "path/to/manufacturing_assembly_output.zip" \
          "path/to/visual_and_branding_output.zip" \
          "path/to/documentation_output.zip" \
          "path/to/administrative_output.zip"

